<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

    
</head>
<body>
    <h1>Winston</h1>

    <div id="one"></div>

  
    

    <button onclick="launch();">Start</button>

    Response:
    <div id="response"></div>


<script>
    function launch() {
        document.getElementById("one").innerHTML = "Winston is now running...";
        url = "http://localhost:5000"
        // Add self to users dictionary
        let worked = true;

                let json = null;
                try {
                    json = '{"name": "Winston"}';
                }
                catch(err) {
                        $("#response").text("Error: invalid JSON provided in 'Content' field.");
                        worked = false;
                }
                
                if (worked) {
                    var xhr = new XMLHttpRequest();
                    xhr.open("POST", url + "/api/users", true);
                    xhr.setRequestHeader("Content-Type", "application/json");
          
                    var data = json;

                    xhr.onload  = function() {
                        var res = xhr.response;
                        $("#response").text(res);
                    };
                    xhr.send(data);
                }
    }
</script>

</body>
</html>